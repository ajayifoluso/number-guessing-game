@page "/Game"
@model GameModel
@{
    ViewData["Title"] = "Number Guessing Game";
}

<div class="container mt-4">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card shadow">
                <div class="card-header bg-primary text-white text-center">
                    <h2>üéØ Number Guessing Game</h2>
                    <p class="mb-0">I'm thinking of a number between 1 and 100!</p>
                </div>
                <div class="card-body">
                    
                    <!-- Game Status -->
                    <div class="row mb-3">
                        <div class="col-md-4">
                            <div class="alert alert-info text-center">
                                <strong>Attempts:</strong> @Model.Attempts / @Model.MaxAttempts
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="alert alert-success text-center">
                                <strong>Score:</strong> @Model.Score
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="alert alert-warning text-center">
                                <strong>Remaining:</strong> @(Model.MaxAttempts - Model.Attempts)
                            </div>
                        </div>
                    </div>

                    <!-- Game Message -->
                    @if (!string.IsNullOrEmpty(Model.Message))
                    {
                        <div class="alert alert-primary text-center">
                            <h4>@Model.Message</h4>
                        </div>
                    }

                    <!-- Game Input -->
                    @if (!Model.GameOver && !Model.GameWon)
                    {
                        <form method="post" class="text-center">
                            <div class="form-group mb-3">
                                <label for="guess" class="form-label"><strong>Enter your guess:</strong></label>
                                <input asp-for="Guess" type="number" class="form-control form-control-lg text-center" 
                                       min="1" max="100" placeholder="Enter a number between 1-100" required />
                            </div>
                            <button type="submit" class="btn btn-primary btn-lg">Make Guess</button>
                        </form>
                    }

                    <!-- New Game Button -->
                    @if (Model.GameOver || Model.GameWon)
                    {
                        <div class="text-center">
                            <form method="post" asp-page-handler="NewGame">
                                <button type="submit" class="btn btn-success btn-lg">Play Again</button>
                            </form>
                        </div>
                    }

                    <!-- Configuration Status -->
                    <div class="mt-4">
                        <h5>Configuration Status</h5>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="alert alert-info">
                                    Database: @(Model.DatabaseConnected ? "‚úÖ Connected" : "‚ùå Not Connected")
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="alert alert-info">
                                    Key Vault: @(Model.KeyVaultConnected ? "‚úÖ Connected" : "‚ùå Not Connected")
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Team Information -->
                    <div class="mt-4 pt-3 border-top">
                        <h6 class="text-center text-primary mb-2">Azure Class - Team Two Project</h6>
                        <div class="text-center">
                            <span class="badge bg-primary mx-1">Angela Mbakwe</span>
                            <span class="badge bg-secondary mx-1">Foluso Ajayi</span>
                            <span class="badge bg-primary mx-1">Busola Afelumo</span>
                            <span class="badge bg-secondary mx-1">Wale Sanusi</span>
                            <span class="badge bg-primary mx-1">Manfred</span>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
</div>